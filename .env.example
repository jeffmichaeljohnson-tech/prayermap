# ============================================================================
# PrayerMap Environment Variables
# ============================================================================
#
# Copy this file to .env.local and fill in your actual values
# DO NOT commit .env.local to version control
#
# Variable Naming Convention:
# - VITE_* prefix = Client-side variables (exposed to browser)
# - No prefix = Server-side only (Node.js scripts, tests, CI/CD)
#
# ============================================================================

# ----------------------------------------------------------------------------
# REQUIRED: Supabase Configuration
# ----------------------------------------------------------------------------
# Backend infrastructure for authentication, database, storage, and realtime
# Get these from: https://supabase.com/dashboard/project/YOUR_PROJECT/settings/api
#
# Security: VITE_SUPABASE_ANON_KEY is SAFE to expose client-side
# It's protected by Row Level Security (RLS) policies in the database

# Your Supabase project URL (e.g., https://abc123.supabase.co)
VITE_SUPABASE_URL=https://your-project.supabase.co

# Your Supabase anonymous/public key
# This key has limited permissions defined by RLS policies
VITE_SUPABASE_ANON_KEY=your-anon-key-here

# ----------------------------------------------------------------------------
# REQUIRED: Mapbox Configuration
# ----------------------------------------------------------------------------
# Interactive map rendering for the prayer map interface
# Get your access token from: https://account.mapbox.com/access-tokens/
#
# Security: SAFE to expose client-side (protected by URL restrictions)
# Recommended: Restrict token to specific URLs in Mapbox dashboard

# Mapbox public access token (starts with pk.)
VITE_MAPBOX_TOKEN=pk.your-mapbox-token-here

# Note: Some documentation may reference VITE_MAPBOX_ACCESS_TOKEN
# Both names work, but VITE_MAPBOX_TOKEN is preferred for consistency

# ----------------------------------------------------------------------------
# OPTIONAL: Application Metadata
# ----------------------------------------------------------------------------
# Used for logging, error tracking, and version display

# Application version (defaults to 0.0.0 if not set)
# Automatically set by CI/CD or package.json version
VITE_APP_VERSION=1.0.0

# ----------------------------------------------------------------------------
# OPTIONAL: Memory System Configuration
# ----------------------------------------------------------------------------
# Powers the AI agent memory system (Pinecone vector database + OpenAI embeddings)
# Only required if using the agent memory features

# OpenAI API key for generating embeddings
# Get from: https://platform.openai.com/api-keys
# Security: SENSITIVE - Server-side only, never expose to client
OPENAI_API_KEY=sk-your-openai-api-key-here

# Pinecone API key for vector storage
# Get from: https://app.pinecone.io/
# Security: SENSITIVE - Server-side only, never expose to client
PINECONE_API_KEY=your-pinecone-api-key-here

# Optional: Session identifier for memory tracking
# Used to organize memory logs by session
SESSION_ID=default-session

# ----------------------------------------------------------------------------
# OPTIONAL: Testing Configuration
# ----------------------------------------------------------------------------
# Used for end-to-end tests and CI/CD

# CI environment flag (automatically set by CI/CD platforms)
# When true, enables stricter testing configuration
CI=false

# Admin credentials for E2E tests
# Security: NEVER use production credentials
# Only set in local .env.local or CI/CD secrets
ADMIN_EMAIL=admin@example.com
ADMIN_PASSWORD=test-password-here

# ----------------------------------------------------------------------------
# OPTIONAL: Development Configuration
# ----------------------------------------------------------------------------
# These are automatically set by Vite and Node.js

# Node environment (development | production | test)
# Automatically set by Vite/Node.js
# NODE_ENV=development

# Vite development mode flag
# Automatically set by Vite (true in dev, false in build)
# import.meta.env.DEV

# Vite mode (development | production | staging)
# Automatically set by Vite based on --mode flag
# import.meta.env.MODE

# ============================================================================
# Setup Instructions
# ============================================================================
#
# 1. Copy this file:
#    cp .env.example .env.local
#
# 2. Get your Supabase credentials:
#    - Go to https://supabase.com/dashboard
#    - Select your project (or create a new one)
#    - Navigate to Settings > API
#    - Copy the "Project URL" to VITE_SUPABASE_URL
#    - Copy the "anon/public" key to VITE_SUPABASE_ANON_KEY
#
# 3. Apply the database schema:
#    - Go to SQL Editor in your Supabase dashboard
#    - Copy the contents of prayermap_schema_v2.sql
#    - Paste and run the SQL
#
# 4. Get your Mapbox token:
#    - Go to https://account.mapbox.com/
#    - Navigate to Access Tokens
#    - Create a new token or copy an existing one
#    - Copy to VITE_MAPBOX_TOKEN
#    - Recommended: Add URL restrictions for security
#
# 5. (Optional) Set up Memory System:
#    - Get OpenAI API key from https://platform.openai.com/api-keys
#    - Get Pinecone API key from https://app.pinecone.io/
#    - Create Pinecone index: 'prayermap-agent-memory'
#      - Dimensions: 1536
#      - Metric: cosine
#    - Copy keys to OPENAI_API_KEY and PINECONE_API_KEY
#
# 6. Update .env.local with your actual values
#
# 7. Restart your development server:
#    npm run dev
#
# ============================================================================
# Environment-Specific Files
# ============================================================================
#
# .env.local        - Local development (gitignored, use this!)
# .env.staging      - Staging environment (gitignored)
# .env.production   - Production environment (gitignored, use Vercel UI)
# .env.example      - Template (committed to git)
#
# Priority (highest to lowest):
# 1. .env.local
# 2. .env.[mode]  (e.g., .env.production)
# 3. .env
# 4. Built-in defaults
#
# ============================================================================
# Security Best Practices
# ============================================================================
#
# ✅ DO:
# - Use .env.local for local development
# - Set production variables in Vercel dashboard
# - Restrict Mapbox token to specific URLs
# - Use different Supabase projects for dev/staging/prod
# - Rotate API keys regularly
# - Use RLS policies to protect Supabase data
#
# ❌ DON'T:
# - Commit .env.local, .env.production, or .env.staging
# - Share API keys in chat, email, or Slack
# - Use production credentials in development
# - Expose server-side variables (OPENAI_API_KEY, PINECONE_API_KEY) to client
# - Hardcode secrets in source code
#
# ============================================================================
