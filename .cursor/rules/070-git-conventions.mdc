---
description: Git workflow and commit conventions
globs: [".git/**/*", "**/*.md"]
alwaysApply: false
---

# Git Conventions

## Branch Naming
```
feature/add-prayer-moderation
fix/map-marker-positioning
chore/update-dependencies
docs/api-documentation
```

## Commit Message Format
```
<type>: <short description>

<optional body>

<optional footer>
```

## Commit Types
- `feat`: New feature
- `fix`: Bug fix
- `docs`: Documentation only
- `style`: Formatting, no code change
- `refactor`: Code change without feature/fix
- `test`: Adding/updating tests
- `chore`: Build, deps, config changes

## Examples
```
feat: add prayer expiration countdown

fix: correct marker position on map zoom

chore: upgrade mapbox-gl to v3.0

docs: update API documentation for prayers endpoint
```

## Rules
- Write in imperative mood ("add" not "added")
- Keep subject line under 72 characters
- Capitalize first letter
- No period at end of subject
- Separate subject from body with blank line
- Reference issues in footer: `Closes #123`

## PR Guidelines
- One feature per PR
- Include screenshots for UI changes
- Update docs if adding features
- Ensure tests pass
- Request review from team

## Protected Branches
- `main` - Production, requires PR
- `develop` - Integration branch (DEFAULT for all work)

## Vercel Deployment Workflow

**CRITICAL: Always deploy to `develop` first. Never push to `main` without explicit user permission.**

### Default Workflow (Development)
```bash
# All changes go to develop branch
git add . && git commit -m "feat: description"
git push origin develop
# Vercel automatically deploys to development environment
# STOP - await user verification
```

### Production Deployment (ONLY when explicitly requested)
```bash
# User must say: "Deploy to production" or "Push to main"
git checkout main
git merge develop
git push origin main
git checkout develop
```

### Branch â†’ Environment
| Branch | Environment | URL |
|--------|-------------|-----|
| `develop` | Development | develop-prayermap.vercel.app |
| `main` | Production | prayermap.net |

### Rules
1. DEFAULT: Push only to `develop`
2. NEVER merge to `main` without explicit user request
3. ALWAYS verify on development URL before production
